<html t:type="layout" t:pageTitle="${user.firstName}'s Page" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_0_0.xsd">
    <body>
        <h3>${user.username}</h3>
    <t:if t:test="imageexist">
        <t:pagelink t:page="user/uploadimage"><img src="${pathstring}" align="left" width="85" height="100"/></t:pagelink>
        <t:parameter name ="else">
            <t:pagelink t:page="user/uploadimage"><img src="${asset:context:/images/placeholder.jpg}" align="left"/></t:pagelink>
        </t:parameter>
    </t:if>
    Name: ${user.firstName}  ${user.LastName}
    <t:if t:test="isprofile">
        <br>Activities: ${userprofile.activities}</br>
        <br>About Me: ${userprofile.aboutme} </br>
        <br>Interests: ${userprofile.interests} </br>
        <br><a href="#" t:type="pageLink" t:page="user/editprofile" t:context="userprofile.id">Edit Profile</a></br>
        <t:parameter name="else">
            <br>Edit your Profile <t:pagelink t:page="user/createprofile">Here</t:pagelink></br>
        </t:parameter>
    </t:if>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <div align="left">Buddy List</div>
    <t:pagelink t:page="announcements/newannouncement">Create Announcement</t:pagelink>

    <div id="trackerbox" class="mainclass">
        <h3> Watchlist </h3>
        <!-- tab "panes" -->
                <ul class="css-tabs">
            <li><a href="#" t:id="getarticles" t:type="actionlink" t:zone="articlezone"  >Articles</a></li>
            <li><a href="#" t:id="getpassages" t:type="actionlink" t:zone="passagezone">Passages</a></li>
            <li><a href="#" t:id="getmultiplechoices" t:type="actionlink"  t:zone="multiplezone" >Multiple Choice</a></li>
            <li><a href="#" t:id="getgridins" t:type="actionlink" t:zone="gridinzone" >Gridin</a></li>
            <li><a href="#" t:id="getopenquestions" t:type="actionlink" t:zone="openzone" >Open Question</a></li>

        </ul>
        <div class="realpanes">
            <div t:type="zone" t:id="articlezone" style="display:block"> <t:delegate to="resultblock" /> </div>
            <div t:type="zone" t:id="passagezone" >pane 2 content</div>
            <div t:type="zone" t:id="multiplezone">pane 3 content</div>
            <div t:type="zone" t:id="gridinzone">pane 1 content</div>
            <div t:type="zone" t:id="openzone">pane 2 content</div>
        </div>


    </div>

    <t:block t:id="clickblock">
        <b> I have been clicked </b>
    </t:block>
 <t:block t:id="passageblock">
     <h3>Short Passages</h3>
        <table class="passagetable">
            <tr>
            <th> Title</th>
            <th> Time Submitted </th>
            <th> Last Updated </th>
            <th> Last Updated By </th>
            </tr>
            <tr t:type="loop" source="shortpassages" value="shortpassage">
                <td align="left"> <a href="#" t:type="pagelink" t:page="contribution/shortpassage/show" t:context="${shortpassage.id}" >${shortpassage.title} </a> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="shortpassage.createdat" /> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="shortpassage.updatedat" /> </td>
                <td align="left"> ${shortpassage.updatedBy.username} </td>
            </tr>
        </table>
     <br />
     <h3>Short Dual Passages</h3>
     <table class="passagetable">
            <tr>
            <th> Title</th>
            <th> Time Submitted </th>
            <th> Last Updated </th>
            <th> Last Updated By </th>
            </tr>
            <tr t:type="loop" source="shortdualpassages" value="shortdualpassage">
                <td align="left"> <a href="#" t:type="pagelink" t:page="contribution/shortpassage/showdual" t:context="${shortdualpassage.id}" >${shortdualpassage.title} </a> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="shortdualpassage.createdat" /> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="shortdualpassage.updatedat" /> </td>
                <td align="left"> ${shortdualpassage.updatedBy.username} </td>
            </tr>
        </table>
     <br />
     <h3>Long Passages</h3>
     <table class="passagetable">
            <tr>
            <th> Title</th>
            <th> Time Submitted </th>
            <th> Last Updated </th>
            <th> Last Updated By </th>
            </tr>
            <tr t:type="loop" source="longpassages" value="longpassage">
                <td align="left"> <a href="#" t:type="pagelink" t:page="contribution/longpassage/show" t:context="${longpassage.id}" >${longpassage.title} </a> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="longpassage.createdat" /> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="longpassage.updatedat" /> </td>
                <td align="left"> ${longpassage.updatedBy.username} </td>
            </tr>
        </table>
     <br />
     <h3>Long Dual Passages</h3>
     <table class="passagetable">
            <tr>
            <th> Title</th>
            <th> Time Submitted </th>
            <th> Last Updated </th>
            <th> Last Updated By </th>
            </tr>
            <tr t:type="loop" source="longdualpassages" value="longdualpassage">
                <td align="left"> <a href="#" t:type="pagelink" t:page="contribution/longpassage/showdual" t:context="${longdualpassage.id}" >${longdualpassage.title} </a> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="longdualpassage.createdat" /> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="longdualpassage.updatedat" /> </td>
                <td align="left"> ${longdualpassage.updatedBy.username} </td>
            </tr>
        </table>
     <br />

    </t:block>
    <t:block t:id="resultblock">
        <table class="articletable">
            <tr>
            <th> Title</th>
            <th> Teaser </th>
            <th> Time Submitted </th>
            <th> Last Updated </th>
            <th> Last Updated By </th>
            </tr>
            <tr t:type="loop" source="articles" value="article">
                <td align="left"> <a href="#" t:type="pagelink" t:page="contribution/article/show" t:context="${article.id}" >${article.title} </a> </td>
                <td align="left"> ${article.teaser} </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="article.createdat" /> </td>
                <td align="left">  <t:output format="literal:MMM. dd, yyyy h:mm a"  value="article.updatedat" /> </td>
                <td align="left"> ${article.updatedBy.username} </td>
            </tr>
        </table>
    </t:block>
</body>
</html>